<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFC WEBSITE</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.2/firebase-firestore.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100;0,200;0,400;0,800;1,300&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>

<body>

    <nav class="navbar" style="background-color: rgb(103, 58, 183); height: 25px;">
        <div class="container">
            <!-- Navbar content goes here -->
        </div>
    </nav>
    <div class="form-container mt-4">
        <form>
            <div class="container-fluid mt-2">
                <div class="gform-header mx-auto"></div>
                <div class="gform1 mx-auto">
                    <div class="form-group mb-3 text-center">
                        <h2>Attendance</h2>
                        <p>
                            Automated Attendance Monitoring and Tracking System using NFC Tags
                        </p>
                    </div>
                </div>
            </div>
            <div class="container-fluid mt-2">
                <div class="gform mx-auto">
                    <div class="form-group mb-3">
                        <label for="student_num" class="form-label">BU Student Number</label>
                        <input type="text" id="student_num" name="student_num" class="form-control" placeholder="Your student number">
                    </div>
                </div>
            </div>
            <div class="container-fluid mt-2">
                <div class="gform mx-auto">
                    <div class="form-group mb-3">
                        <label for="full_name" class="form-label">Student Name</label><br>
                        <small class="form-text text-muted">Ex. Last Name, First Name, MI. Extension Name (eg. JR, II)</small>
                        <input type="text" id="full_name" name="full_name" class="form-control" placeholder="Your student name">
                        
                    </div>
                </div>
            </div>      
            <div class="container-fluid mt-2">
                <div class="gform2 mx-auto">
                    <div class="form-group mb-3">
                        <label for="yesOption" class="form-label">Irregular Student</label>
                        <div>
                            <input type="radio" class="radio" id="yesOption" name="irregularStudent" value="yes">
                            <label for="yesOption" class="small-text">Yes</label>
                        </div>
                        <div>
                            <input type="radio" class="radio"  id="noOption" name="irregularStudent" value="no">
                            <label for="noOption" class="small-text">No</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid mt-2">
                <div class="gform2 mx-auto">
                    <div class="form-group mb-3">
                        <label for="course_option" class="form-label">Course</label>
                        <div>
                            <input type="radio" class="radio" id="bscs" name="course" value="bscs">
                            <label for="bscs" class="small-text">Bachelor of Science in Computer Science</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="bsis" name="course" value="bsis">
                            <label for="bsis" class="small-text">Bachelor of Science in Information System</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="bsit" name="course" value="bsit">
                            <label for="bsit" class="small-text">Bachelor of Science in Information Technology</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="bsita" name="course" value="bsita">
                            <label for="bsita" class="small-text">Bachelor of Science in Information Technology major in Animation</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid mt-2">
                <div class="gform2 mx-auto">
                    <div class="form-group mb-3">
                        <label for="year_option" class="form-label">Year Level</label>
                        <div>
                            <input type="radio" class="radio" id="1" name="year" value="1">
                            <label for="1" class="small-text">1st Year</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="2" name="year" value="2">
                            <label for="2" class="small-text">2nd Year</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="3" name="year" value="3">
                            <label for="3" class="small-text">3rd Year</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="4" name="year" value="4">
                            <label for="4" class="small-text">4th Year</label>
                        </div>
                    </div>
                </div>
            </div>          
            <div class="container-fluid mt-2">
                <div class="gform2 mx-auto">
                    <div class="form-group mb-3">
                        <label for="block_option" class="form-label">Block</label>
                        <div>
                            <input type="radio" class="radio" id="A" name="block" value="A">
                            <label for="A" class="small-text">A</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="B" name="block" value="B">
                            <label for="B" class="small-text">B</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="C" name="block" value="C">
                            <label for="C" class="small-text">C</label>
                        </div>
                        <div>
                            <input type="radio" class="radio" id="D" name="block" value="D">
                            <label for="D" class="small-text">D</label>
                        </div>
                    </div>
                </div>
            </div>
            

        

            <button class="submit mx-auto">Submit</button>
        </form>
    </div>

    <!-- Bootstrap JS (Optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDfNr3VPTj-yzgBK9BLjNiwEQ11ITiTp4E",
        authDomain: "nfc-app-fb987.firebaseapp.com",
        databaseURL: "https://nfc-app-fb987-default-rtdb.firebaseio.com",
        projectId: "nfc-app-fb987",
        storageBucket: "nfc-app-fb987.appspot.com",
        messagingSenderId: "533389666766",
        appId: "1:533389666766:web:fa6c22da78b5d0a6bbe39f"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Function to handle form submission
    const handleSubmit = async () => {
        // Get form values
        const studentNum = document.getElementById("student_num").value;
        const fullName = document.getElementById("full_name").value;
        const irregularStudent = document.querySelector('input[name="irregularStudent"]:checked').value;
        const course = document.querySelector('input[name="course"]:checked').value;
        const year = document.querySelector('input[name="year"]:checked').value;
        const block = document.querySelector('input[name="block"]:checked').value;

        // Create a data object
        const data = {
            studentNum,
            fullName,
            irregularStudent,
            course,
            year,
            block
        };

        try {
            // Add data to Firestore collection
            const docRef = await addDoc(collection(db, "students"), data);
            console.log("Document written with ID: ", docRef.id);
        } catch (e) {
            console.error("Error adding document: ", e);
        }
    };

    // Add an event listener to the submit button
    document.querySelector('.submit').addEventListener('click', handleSubmit);
</script>
</html>

